# Swift в linux среда

Ако един ден се събудите и се окаже, че някой е инсталирал линукс на машината ви докато спите, а вас ви сърбят пръстите да пишете код на Swift, следващите редове може да са ви от полза.

## Лесен начин
Изпълнявате тази команда в терминал (трябва да имате инсталиран curl)
и сте готови.  
`curl -sL swift.vapor.sh/ubuntu | bash`

## Труден начин

Стъпките, които следват са извършени на Ubuntu 14.04, но според Apple, 16.04 също е OK.

### 1. Да си свалим Swift

* [Swift 3.02 за Ubuntu 14.04](https://swift.org/builds/swift-3.0.2-release/ubuntu1404/swift-3.0.2-RELEASE/swift-3.0.2-RELEASE-ubuntu14.04.tar.gz)
* [Swift 3.02 за Ubuntu 16.04](https://swift.org/builds/swift-3.0.2-release/ubuntu1604/swift-3.0.2-RELEASE/swift-3.0.2-RELEASE-ubuntu16.04.tar.gz)
* [Място, откъдето може да намерите стари версии (<= 3.02)](https://swift.org/download/#releases)

След като последвате един от първите два линка, свалете архива на някое удобно за вас място (да кажем ~/Downloads).

Разархивираме прясно сваления архив като навигираме до папката, където сме избрали да го свалим и изпълним следната команда
```
cd path/to/downloaded/swift
tar -zxvf <име-на-архивa>
```
или използвайки случаен архиватор.

### 2. Да кажем на линукс къде се намира компилатора,

който всъщност е една програма със звучното име `swift` и се намира в папката, която току що разархивирахме.

Нека първо преименуваме същата папка до нещо малко по-кратко:

`mv ./swift-3.0.2-RELEASE-ubuntu14.04 ./swiftlang`

Ако в този момент опитаме да стартираме swift в терминала, изпълнявайки командата `swift`, ще се покаже съобщение, че не сме инсталирали таква програма.  

Когато изпълняваме команди в терминал, операционната система търси изпълним файл със същото име като командата в няколко директории. В нашият случай тя не успява да намери файл с име `swift` в никоя от директориите, които търси и поради тази причина твърди, че не сме я инсталирали. Като цяло има право.  

Директориите, които ОС претърсва при изпълнение на команда, се съдържат в променливата на обкръжението (environment variable) PATH.  

За да видим съдържанието на PATH, можем да изпълним
`echo $PATH`

Резултатът е нещо от типа на
`/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games`

където символът `:` е разделител между директориите.

Целта на тази стъпка е да кажем на ОС къде да търси нашия компилатор. За да направим това трябва да добавим нашата директория към останалите в PATH променливата.  

При добро желание може да преместите `./swiftlang` папката на по-подходящо място:  
`mv ./swiftlang /usr/`
Оттук нататък компилаторът ни живее в `/usr/swiftlang`

Има много начини да добавим `/usr/swiftlang` в PATH. Един от тях е:  
`gedit ~/.bashrc &`  
Тази команда ще отвори файла .bashrc в текстовия редактор gedit. На последния ред на този файл трябва да добавим следното  
`export PATH=$PATH:/usr/swiftlang/usr/bin/`  
След това save & exit.

### 3. Инсталиране на малко dependencies

```
sudo apt-get update
sudo apt-get install clang libicu-dev libsqlite3-dev libpython-dev
```

При следващо отваряне на терминал, ще може да изпълните командата `swift`, която представлява REPL за Swift.

Ако подадете аргумент (име на файл) на същата програма, то ще получите резултата от кода в името на файла, което сте дали.  
`swift ./main.swift` например.

### 4. That's it
